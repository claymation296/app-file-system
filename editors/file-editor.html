
<style>

  :host {
    --fab-animation-ease: var(--custom-ease, cubic-bezier(0.49, 0.01, 0, 1));
  }

  #overlay {
    --overlay-toolbar-background-parallax-height: 120%;
    --overlay-toolbar-vignette-opacity:           0.5;
  }

  lazy-image,
  lazy-video {
    height: 100%;
    width:  100%;
  }

  #fab {
    position: fixed;
    right:    16px;
    bottom:   16px;
    background-color: var(--app-accent-color);
    color:            var(--app-accent-color-text);
    z-index:          1;
    transition:       transform 0.4s var(--fab-animation-ease), opacity 0.2s ease-in 0.15s;
  }

  .fab-base-transform {
    transform: scale(0, 0) rotate(-90deg);
  }

  .fab-animation {
    transform: scale(1, 1) rotate(0deg);
  }

  *[hidden] {
    display: none;
  }

</style>


<app-header-overlay id="overlay"
                    header-size="[[__computeHeaderSize(_isImg, _isVid)]]"
                    prebuilt-animation="from-right"
                    reveal-header
                    title="[[_title]]"
                    on-overlay-exiting="__hideFab"
                    on-reset="__resetFab">


  <lazy-image alt="[[item.displayName]]"
              hidden="[[!_isImg]]"
              placeholder="[[_imgPlaceholder]]"
              src="[[_imgSrc]]"
              sizing="cover"
              slot="header-background-slot">
  </lazy-image>

  <lazy-video aspect-ratio="fill"
              hidden="[[!_isVid]]" 
              placeholder="[[_vidPlaceholder]]"
              poster="[[_vidPoster]]"
              slot="header-background-slot"
              src="[[_vidSrc]]">
  </lazy-video>

  <action-buttons item="[[item]]"
                  slot="top-toolbar-buttons-slot">
  </action-buttons>

  <paper-icon-button hidden="[[__computeHideLaunchBtn(_isImg, _isVid)]]"
                     icon="file-icons:launch"
                     slot="bottom-toolbar-buttons-slot"
                     on-click="__launchBtnClicked">
  </paper-icon-button>


  <metadata-page dark-mode="[[darkMode]]"
                 geolocation="[[_geolocation]]"
                 is-img="[[_isImg]]"
                 item="[[item]]"
                 list="[[list]]"
                 slot="content"
                 on-display-name-changed="__displayNameChanged"
                 on-open-map-overlay="__openMapOverlay">
  </metadata-page>


</app-header-overlay>


<paper-fab id="fab"
           class="fab-base-transform"
           hidden="[[!_isImg]]"
           icon="file-icons:tune"
           on-click="__fabClicked">
</paper-fab>


<map-overlay id="mapOverlay"
             dark-mode="[[darkMode]]"
             draggable 
             lat="[[item.geolocation.lat]]" 
             lng="[[item.geolocation.lng]]"
             zoom="[[_defaultZoom]]"
             on-selected-changed="__mapOverlaySelectedChanged">
</map-overlay>
