
<style>

  :host {

    /* Available to adjust to taste to match app look and feel. */
    --afs-light-mode-start-gradient: var(--app-background-color) 40%;
    --afs-dark-mode-start-gradient:  var(--app-background-color) 40%;

    /* Available to adjust to taste to match app look and feel. */
    --afs-light-mode-end-gradient: var(--app-light-color) 100%;
    --afs-dark-mode-end-gradient:  var(--app-dark-color)  180%;

    /* Available to adjust to taste to match app look and feel. */
    --afs-gradient-text-color:           var(--dark-text-color);
    --afs-gradient-secondary-text-color: var(--secondary-text-color);
    --afs-gradient-focus-color:          var(--app-primary-color);


    --gradient-start: var(--afs-light-mode-start-gradient);
    --gradient-end:   var(--afs-light-mode-end-gradient);

    --afs-gradient-background: radial-gradient(
      ellipse at top left, 
      var(--gradient-start), 
      var(--gradient-end)
    );
  }

  #spinner {
    z-index: 2;
  }

</style>


<file-sources id="sources"
              accept="[[accept]]"
              coll="[[coll]]"
              data="[[_dbData]]"
              hide-dropzone="[[hideDropzone]]"
              list="[[list]]"
              maxfiles="[[maxfiles]]"
              maxsize="[[maxsize]]"
              multiple="[[multiple]]"
              unit="[[unit]]"
              on-delete-previous="__deletePrevious"
              on-open-list="openList"
              on-open-save-as-modal="__openSaveAsModal"
              on-upload-done="__uploadDone"
              on-upload-updated="__uploadUpdated">
</file-sources>

<!-- Control memory footprint by removing "heavy" elements when not in use. -->
<template id="stamperTemplate"
          is="dom-if"
          if="[[_stamp]]"
          restamp>


  <file-list id="fileList"
             coll="[[coll]]"
             data="[[_dbData]]"
             hide-dropzone="[[hideDropzone]]"
             uploads="[[_uploads]]"
             on-list-overlay-closed="__listOverlayClosedHandler">
  </file-list>


  <camera-roll id="cameraRoll"
               coll="[[coll]]"
               data="[[_dbData]]"
               uploads="[[_uploads]]"
               on-list-overlay-closed="__listOverlayClosedHandler">
  </camera-roll>


  <file-editor id="fileEditor"
               dark-mode="[[darkMode]]"
               item="[[_liveItem]]"
               list="[[list]]">
  </file-editor>


  <photo-carousel id="carousel"
                  coll="[[coll]]"
                  item="[[_liveItem]]"
                  list=[[list]]>
  </photo-carousel>


  <image-editor id="imageEditor"
                dark-mode="[[darkMode]]"
                item="[[_liveItem]]"
                list="[[list]]">
  </image-editor>


  <afs-video-viewer id="videoViewer"
                    item="[[_liveItem]]">
  </afs-video-viewer>


  <photo-viewer id="photoViewer"
                item="[[_liveItem]]">
  </photo-viewer>


</template>


<app-spinner id="spinner"
             full-screen>
</app-spinner>


<app-file-system-share-modal id="shareModal"
                             item="[[_liveItem]]">
</app-file-system-share-modal>


<app-file-system-delete-modal id="deleteConfirmModal"
                              on-delete="__deleteModalDelete"
                              on-canceled="__deleteModalCanceled">                                
</app-file-system-delete-modal>


<app-file-system-save-as-modal id="saveAsModal"
                               list="[[list]]"
                               on-skip="__saveAsModalSkip"
                               on-update="__saveAsModalUpdate">                                 
</app-file-system-save-as-modal>
