
<style>

  #overlay {
    --overlay-background-color: var(--app-body-color);
  }

  #toolbar-background-container,
  #progress {
    position: absolute;
    top:      0px;
    right:    0px;
    bottom:   0px;
    left:     0px;
    z-index: -1;
  }  

  #toolbar-background {
    height: 100%;
    background-color: var(--app-dark-color);
    color:            var(--app-dark-color-text);
  }

  #content {
    height: calc(100vh - 128px);
  }

  #content[hidden] {
    display: none;
  }

  #grid {
    display:            grid;
    grid-template-rows: min-content min-content 24px 1fr;
    grid-row-gap:       16px;
    height:             100%;
    padding:            32px 16px;
  }

  #or {
    text-align: center;
  }

  #content-div {
    margin-bottom: 8px;
  }

</style>


<template id="stamper" 
          is="dom-if" 
          if="[[_stamp]]" 
          restamp>


  <app-header-overlay id="overlay"
                      header-size="1"
                      parent-controls-exits
                      prebuilt-animation="from-top"
                      fixed-header
                      title="Add Files"
                      on-header-overlay-back="__back"
                      on-overlay-reset="__reset">


    <div id="toolbar-background-container"
         slot="header-background-slot">

      <file-sources-progress-bar id="progress"
                                 processed="[[_processed]]"
                                 processing="[[_processing]]"
                                 read="[[_read]]"
                                 reading="[[_reading]]">
      </file-sources-progress-bar>

      <div id="toolbar-background"></div>
    </div>


    <list-icon-button count="[[_dbCount]]"
                      data="[[data]]"
                      list="[[list]]"
                      slot="top-toolbar-buttons-slot"
                      on-click="__listBtnClicked">
    </list-icon-button>


    <div id="content"
         hidden="[[_hideContent]]" 
         slot="content">

      <div id="grid">
        <div>[[_acceptableTypes]]</div>

        <web-file-card mimes="[[_mimes]]"
                       on-file-added="__webFileAdded">
        </web-file-card>

        <div id="or">OR</div>

        <device-file-card id="deviceFileCard"
                          accept="[[accept]]"
                          hide-dropzone="[[hideDropzone]]"
                          maxfiles="[[maxfiles]]"
                          maxsize="[[maxsize]]"
                          multiple="[[multiple]]"
                          unit="[[unit]]"
                          on-files-added="__deviceFilesAdded">
        </device-file-card>
      </div>

      <file-sources-upload-actions-card id="actions"
                                        list="[[list]]"
                                        qty="[[_filesToUploadQty]]"
                                        on-go="__uploadActionsGo"
                                        on-rename="__uploadActionsRename">                                        
      </file-sources-upload-actions-card>

    </div>

  </app-header-overlay>

</template>
