
<style include="app-shared-styles">

  :host {
    display:  block;
    position: relative;
    overflow: hidden;
    --file-item-thumbnail-border-radius: inherit; /* Another Safari fix. */
  }

  file-thumbnail {
    /* Must calc for Safari. 80px = #label height. */
    height: calc(100% - 80px);
    --thumbnail-border-radius: var(--file-item-thumbnail-border-radius);
  }

  #label {
    position:         relative;
    background-color: inherit; /* For <processing-icon> */
  }

  #label-name {
    display:     flex;
    align-items: center;
    height:      32px;
    padding:     8px 8px 0px 8px;
    color:       var(--dark-text-color);
  }

  #label-order {
    margin-right: 8px;
  }

  #label-body {
    display:         flex;
    justify-content: space-between;
    align-items:     flex-end;
    height:          40px;
    padding:         0px 0px 4px 8px;
  }

  #label-stats {
    /* 
      Truncate text and don't push 
      more-vert icon-button out of view. 
    */
    width: calc(100% - 40px);
  }

  .label-stat {
    font-size: 12px;
    color:     var(--secondary-text-color);
  }

  select-checkbox[hidden] {
    display: none;
  }

  .selected {
    opacity: 0.7;
  }

</style>


<file-thumbnail class$="[[_selectedClass]]"
                controls="[[_controls]]"
                item="[[item]]"
                on-click="__itemClicked">
</file-thumbnail>


<div id="label"
     class$="[[_selectedClass]]"                
     on-click="__itemClicked">

  <div id="label-name">
    <div id="label-order">
      [[_order]]
    </div>
    <div class="shared-single-line-truncate">
      [[item.displayName]]
    </div>
  </div>

  <div id="label-body">
    <div id="label-stats">
      <div class="label-stat shared-single-line-truncate">
        [[_dateTime]]
      </div>

      <div class="label-stat shared-single-line-truncate">
        [[__computeStatsLine2(_mimeExt, item.sizeStr)]]
      </div>
    </div>

    <paper-icon-button hidden="[[!hideCheckbox]]"
                       icon="app-icons:more-vert"
                       on-click="__moreBtnClicked">
    </paper-icon-button>
  </div>

  <processing-icon item="[[item]]"></processing-icon>
</div>


<upload-controls id="uploadControls"
                 class$="[[_selectedClass]]"
                 coll="[[coll]]"
                 doc="[[doc]]"
                 field="[[field]]"
                 file="[[item.file]]">
</upload-controls>


<select-checkbox checked="[[selected]]"
                 hidden="[[hideCheckbox]]"
                 on-click="__itemClicked">
</select-checkbox>


<quick-options id="options" 
               item="[[item]]">
</quick-options>
