
<style>

  :host {
    display: block;
    padding: 16px;
  }
  
  .file-item {
    display:          inline-flex;
    flex-direction:   column; 
    position:         relative;
    height:           calc(20vmax + 36px);
    width:            20vmax;
    min-height:       180px;
    min-width:        144px;
    max-height:       240px;
    max-width:        204px;
    margin:           4px;
    border-radius:    3px;
    overflow:         hidden;
    z-index:          1;
    background-color: var(--app-background-color);
    --file-item-thumbnail-border-radius: 3px 3px 0px 0px;
  }

  /* Maintain aspect ratio for video. */
  .video {
    height:     unset;
    min-height: unset;
    max-height: unset;
    min-width:  236px; /* This size chosen to keep minimal controls and start time. */
    max-width:  576px;
  }

  #icon-container {
    display:         flex;
    justify-content: center;
    align-items:     center;
    margin:          24px 0px;
  }

  #sort-icons-container {
    display:         flex;
    justify-content: center;
    align-items:     center;
    position:        relative;
    height:          40px;
    width:           40px;
  }

  #block-icon {
    position: absolute;
    height:   100%;
    width:    100%;
  }

  #dropZone {
    display:          flex;
    flex-direction:   column;
    justify-content:  center;
    align-items:      center;  
    height:           144px;  
    border:           4px dashed var(--paper-grey-600);
    color:            var(--app-error-color);
    background-color: var(--divider-color);
  }

  #delete-icon {
    width:  40px;
    height: 40px;
  }

  *[hidden] {
    display: none;
  }



  /*For testing only*/

  /*.sortable {
    position: relative;
  }

  .test-div {
    position: absolute;
    top: 8px;
    left: 8px;
    padding: 8px;
    font-size: 20px;
    background-color: white;
    color: rebeccapurple;
    z-index: 1;
  }*/
  

</style>


<drag-drop-list disabled="[[!hideCheckboxes]]"
                sortable=".sortable"
                on-items-change="__handleChanges"
                on-item-dropped="__handleDrop" 
                on-sort-finish="__handleSort">                

  <template is="dom-repeat" 
            items="[[_rearrangedItems]]">
    <!-- 
        Outter div fixes a bug that causes drag-drop-list classes from being
        blown away whenever an item updates while user is dragging. Probably
        involving the Polymer dynamic 'class$' syntax. 
    -->
    <div class="sortable"
         state-index="[[index]]">
      <file-item class$="file-item [[__computeSortableClass(item.type)]]"
                 coll="[[coll]]"
                 doc="[[doc]]"
                 field="[[field]]"
                 hide-checkbox="[[hideCheckboxes]]"
                 item="[[item]]"
                 selected="[[all]]">
      </file-item>



      <!-- Testing only -->
       <!-- <div class="test-div">[[index]]</div> -->



    </div>

  </template>

</drag-drop-list>


<div id="icon-container"
     hidden="[[__computeHideIcons(items)]]">
  <iron-icon icon="file-icons:touch-app"></iron-icon>
  <div id="sort-icons-container">
    <iron-icon icon="file-icons:low-priority"></iron-icon>
    <iron-icon id="block-icon"
               hidden="[[hideCheckboxes]]" 
               icon="file-icons:block">
    </iron-icon>
  </div>
</div>


<div id="dropZone"
     hidden="[[hideDropzone]]">
  <iron-icon id="delete-icon" 
             icon="file-icons:delete">
  </iron-icon>
  <div>Drop here to delete</div>
</div>
