
<style include="app-shared-styles">  

  :host {
    --scale-animation-ease: var(--custom-ease, cubic-bezier(0.49, 0.01, 0, 1));
  }
      
  #overlay {
    --overlay-toolbar-background-color: transparent;
    --overlay-toolbar-color:            var(--constant-light-text);
    --overlay-toolbar-pointer-events:   none;
    --overlay-background-color:         var(--app-body-color);
  }

  .blur {
    -webkit-backdrop-filter: blur(10px);
    backdrop-filter:         blur(10px);
    opacity:                 0.7;
  }

  #header-background {
    position:         absolute;
    top:              0px;
    right:            0px;
    bottom:           0px;
    left:             0px;
    pointer-events:   none;
    background-color: var(--app-dark-color);
    box-shadow: 0px 2px 2px 0px rgba(0, 0, 0, 0.14),
                0px 1px 5px 0px rgba(0, 0, 0, 0.12),
                0px 3px 1px -2px rgba(0, 0, 0, 0.2);
    z-index:   -1;
  }

  #scale {
    display:         none;
    justify-content: center;
    width:           100%;
    position:        fixed;
    bottom:          48px;
    transition:      transform 0.3s var(--scale-animation-ease);
    z-index:         1;
  }

  .hide-scale {
    transform: translateY(92px);
  }

  #scale-wrapper {
    display:     flex;
    position:    relative;
    align-items: center;
    padding:     0px 8px;
  }

  #scale-background {
    position:         absolute;
    top:              0px;
    right:            0px;
    bottom:           0px;
    left:             0px;
    border-radius:    16px;
    background-color: var(--app-background-color);
  }

</style>


<app-localstorage-document id="cameraRollScaleStorage"
                           key="cameraRollScaleStorage" 
                           data="[[_scale]]"
                           on-data-changed="__localstorageDataChanged">
</app-localstorage-document>


<app-header-overlay id="overlay"
                    header-size="1"
                    prebuilt-animation="from-bottom"
                    reveal-header
                    threshold="64"
                    title="My Photos"
                    on-header-overlay-threshold-triggered-changed="__overlayTriggered"
                    on-overlay-exiting="__hideScale"
                    on-reset="__resetScale">

  <div id="header-background"
       class="blur" 
       slot="header-background-slot">
  </div>

  <multiselect-btns id="multi"
                    items="[[items]]" 
                    slot="top-toolbar-buttons-slot"
                    on-all-changed="__allChanged"
                    on-hide-checkboxes-changed="__hideCheckboxesChanged">
  </multiselect-btns>


  <roll-items id="rollItems"
              all="[[_all]]"
              coll="[[coll]]"
              hide-checkboxes="[[_hideCheckboxes]]"
              hide-dropzone="[[hideDropzone]]" 
              items="[[items]]"
              scale="[[_scale]]"
              slot="content">
  </roll-items>


</app-header-overlay>


<div id="scale" 
     class="hide-scale">
  <div id="scale-wrapper">
    <div id="scale-background" 
         class="blur">
    </div>
    <iron-icon icon="file-icons:view-comfy"></iron-icon>
    <paper-slider value="[[_scale]]" 
                  on-immediate-value-changed="__sliderValChanged">
    </paper-slider>
    <iron-icon icon="file-icons:view-module"></iron-icon>
  </div>
</div>
