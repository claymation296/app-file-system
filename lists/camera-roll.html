
<style include="app-shared-styles">  

  :host {
    --scale-animation-ease: var(--custom-ease, cubic-bezier(0.49, 0.01, 0, 1));
  }
      
  #overlay {
    --overlay-toolbar-background-color: transparent;
    --overlay-toolbar-color:            var(--constant-light-text);
    --overlay-toolbar-pointer-events:   none;
    --overlay-background-color:         var(--app-body-color);
  }

  .background {
    position:         absolute;
    top:              0px;
    right:            0px;
    bottom:           0px;
    left:             0px;
    pointer-events:   none;
    z-index:         -1;
  }

  .blur {
    -webkit-backdrop-filter: blur(10px);
    backdrop-filter:         blur(10px);
  }

  /*
    Cannot have a background color and 
    a backdrop-filter on same element.
  */
  #header-color-background {
    opacity:          0.7;
    background-color: var(--app-dark-color);
  }

  #scale {
    display:         none;
    justify-content: center;
    width:           100%;
    position:        fixed;
    bottom:          48px;
    transition:      transform 0.3s var(--scale-animation-ease);
    z-index:         1;
  }

  .hide-scale {
    transform: translateY(92px);
  }

  #scale-wrapper {
    display:       flex;
    position:      relative;
    align-items:   center;
    padding:       0px 8px;
    border-radius: 16px;
  }

  /*
    So the opacity setting required for 
    backdrop-filter does not affect any other elements.

    Cannot have a background color and 
    a backdrop-filter on same element.
  */
  #scale-background {
    opacity:          0.7;
    background-color: var(--app-background-color);
  }

</style>


<app-localstorage-document id="cameraRollScaleStorage"
                           key="cameraRollScaleStorage" 
                           data="[[_scale]]"
                           on-data-changed="__localstorageDataChanged">
</app-localstorage-document>


<app-header-overlay id="overlay"
                    header-size="1"
                    prebuilt-animation="from-bottom"
                    reveal-header
                    threshold="64"
                    title="My Photos"
                    on-header-overlay-threshold-triggered-changed="__overlayTriggered"
                    on-overlay-exiting="__hideScale"
                    on-reset="__resetScale">

  <div class="background blur" 
       slot="header-background-slot">
  </div>

  <div id="header-color-background"
       class="background" 
       slot="header-background-slot">
  </div>

  <multiselect-btns id="multi"
                    items="[[_combinedFileItems]]" 
                    slot="top-toolbar-buttons-slot"
                    on-all-changed="__allChanged"
                    on-hide-checkboxes-changed="__hideCheckboxesChanged">
  </multiselect-btns>


  <roll-items id="rollItems"
              all="[[_all]]"
              coll="[[coll]]"
              hide-checkboxes="[[_hideCheckboxes]]"
              items="[[_combinedFileItems]]"
              scale="[[_scale]]"
              slot="content">
  </roll-items>


</app-header-overlay>


<div id="scale" 
     class="hide-scale">
  <div id="scale-wrapper" 
       class="shared-border-radius-mask blur">
    <div id="scale-background" 
         class="background">
    </div>
    <iron-icon icon="file-icons:view-comfy"></iron-icon>
    <paper-slider value="[[_scale]]" 
                  on-immediate-value-changed="__sliderValChanged">
    </paper-slider>
    <iron-icon icon="file-icons:view-module"></iron-icon>
  </div>
</div>
